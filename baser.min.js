/**
 * baserjs - v0.0.2-alpha r64
 * update: 2014-07-01
 * Author: baserCMS Users Community [https://github.com/baserproject/]
 * Github: https://github.com/baserproject/baserjs
 * License: Licensed under the MIT License
 */

(function(){"use strict";var a,b=this,c=b.document,d=(b.location,jQuery);!function(a){!function(a){var b=function(){function a(){}return a.UID=function(a){var b=Math.floor(1e8*Math.random());a||(a=(new Date).valueOf());var c=b+a,d="uid-"+c.toString(24);return d},a}();a.String=b}(a.utility||(a.utility={}));a.utility}(a||(a={}));var a;!function(a){!function(a){var c=b,d=function(){function a(){}return a.getUA=function(){var a=navigator.userAgent,b={iOS:/ios/i.test(a),iPad:/ipad/i.test(a),iPhone:/iphone/i.test(a),iPod:/ipod/i.test(a),android:/android/i.test(a)};return b},a.spec={isTouchable:void 0!==c.ontouchstart,ua:a.getUA()},a}();a.Browser=d}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(a){var b=function(){function a(){this.datetime=new Date}return a.prototype.valueOf=function(){return this.datetime.valueOf()},a.prototype.now=function(){return this.datetime=new Date,this.valueOf()},a}();a.Timer=b}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(b){!function(b){var c=function(){function b(b){this.name="",this.$el=b,this.id=this.$el.attr("id"),this.id||(this.id=a.utility.String.UID(),this.$el.attr("id",this.id));var c=this.$el.attr("name");c&&(this.name=c)}return b}();b.Element=c}(b.element||(b.element={}));b.element}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(a){!function(a){var b=function(){function b(){}return b.radio=function(b,c){new a.Radio(b,c);return b},b.checkbox=function(b,c){new a.Checkbox(b,c);return b},b.select=function(b,c){new a.Select(b,c);return b},b.selectMultiple=function(a){return a},b.valid=function(a){return a},b.className="-bc-form-element",b.elements=[],b.radioGroups={},b}();a.Form=b}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a,e=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};!function(a){!function(a){!function(a){var b="-label",c="-focus",f="-blur",g=function(g){function h(c,e){var f=this;g.call(this,c),this.isFocus=!1,this.$el.addClass(a.Form.className);var i,j=d.extend(h.defaultOption,e);i=this.$el.closest("label"),i.length||(i=d('[for="'+this.id+'"]')),i.length||(this.label=this.$el.attr("title")||j.label||this.$el.attr("name"),i=d("<"+j.labelTag.toLowerCase()+" />"),i.insertAfter(this.$el),j.labelClass&&i.addClass(j.labelClass),this.label&&i.text(this.label),"label"===j.labelTag.toLowerCase()&&i.attr("for",this.id)),this.$label=i,i.addClass(a.Form.className),i.addClass(a.Form.className+b),this.$el.on("focus.bcFormElement",function(){f._onfocus()}),this.$el.on("blur.bcFormElement",function(){f._onblur()}),this._onblur(),a.Form.elements.push(this)}return e(h,g),h.prototype._onfocus=function(){this.isFocus=!0,this.$el.addClass(a.Form.className+c),this.$el.removeClass(a.Form.className+f),this.$label.addClass(a.Form.className+c),this.$label.removeClass(a.Form.className+f)},h.prototype._onblur=function(){this.isFocus=!1,this.$el.addClass(a.Form.className+f),this.$el.removeClass(a.Form.className+c),this.$label.addClass(a.Form.className+f),this.$label.removeClass(a.Form.className+c)},h.defaultOption={label:"",labelTag:"label",labelClass:""},h}(a.Element);a.FormElement=g}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(a){!function(b){var f="-select",g="-option",h="-pseudo",i="-focus",j="-blur",k=d(c),l=function(c){function l(e,i){var j=this;c.call(this,e,i),this.$el.addClass(b.Form.className+f);var k=this.$label.children().detach();this.$label.empty(),this.$label.append(k),this.$label.addClass(b.Form.className),this.$label.addClass(b.Form.className+f+"-label"),this.$pseudo=d("<a />"),this.$pseudo.attr("href","#"),this.$pseudo.appendTo(this.$label),this.$pseudo.addClass(b.Form.className),this.$pseudo.addClass(b.Form.className+f+h),this.$selected=d("<span />"),this.$selected.text(this.label),this.$selected.appendTo(this.$pseudo),this.$selected.addClass(b.Form.className),this.$selected.addClass(b.Form.className+f+h+"-selected"),this.$options=d("<ul />"),this.$options.appendTo(this.$pseudo),this.$options.addClass(b.Form.className),this.$options.addClass(b.Form.className+f+h+g+"-list"),this.$el.find("option").each(function(a,c){var e=d(c),i=e.val(),k=e.text(),l=d("<li />");l.appendTo(j.$options),l.data("value",i),l.text(k),l.addClass(b.Form.className),l.addClass(b.Form.className+f+h+g)}),this._update(),this.$el.on("change.bcSelect",function(){j._onchange()}),this.$options.on("click.bcSelect","li",function(a){var b=d(a.target),c=b.index();j.$el.find("option").eq(c).prop("selected",!0),a.stopPropagation(),a.preventDefault(),j._onchange()}),this.$pseudo.on("click.bcSelect",function(a){a.preventDefault()}),a.Browser.spec.isTouchable?a.Browser.spec.ua.iPhone?(this.$pseudo.on("click.bcSelect",function(){j.$label.focus()}),this.$el.addClass(b.Form.className+f+"-os-iphone"),this.$label.addClass(b.Form.className+f+"-os-iphone")):a.Browser.spec.ua.android&&(this.$el.addClass(b.Form.className+f+"-os-android"),this.$label.addClass(b.Form.className+f+"-os-android")):this._psuedoFocusEvent()}return e(l,c),l.prototype._psuedoFocusEvent=function(){var a=this;this.$el.off("focus.bcFormElement"),this.$el.off("blur.bcFormElement"),this.$el.on("focus.bcSelect",function(){a.$pseudo.focus()}),this.$pseudo.on("focus.bcSelect",function(b){b.stopPropagation(),k.trigger("click.bcSelect"),a._onfocus()}),this.$selected.on("click.bcSelect",function(b){k.trigger("click.bcSelect"),a._onfocus(),b.stopPropagation(),b.preventDefault()}),k.on("click.bcSelect",function(){a._onblur()})},l.prototype._onchange=function(){this._update(),this._onblur()},l.prototype._onfocus=function(){c.prototype._onfocus.call(this),this.$pseudo.addClass(b.Form.className+i),this.$pseudo.removeClass(b.Form.className+j)},l.prototype._onblur=function(){this.$pseudo&&(c.prototype._onblur.call(this),this.$pseudo.addClass(b.Form.className+j),this.$pseudo.removeClass(b.Form.className+i))},l.prototype._update=function(){var a=this,c=(this.$el.find(":selected"),this.$options.find("li"));this.$el.find("option").each(function(e,i){var j=d(i),k=j.prop("selected"),l=c.eq(e);k&&a.$selected.text(j.text()),l.attr("aria-selected",""+k),k?(l.addClass(b.Form.className+f+h+g+"-selected"),l.removeClass(b.Form.className+f+h+g+"-unselected")):(l.addClass(b.Form.className+f+h+g+"-unselected"),l.removeClass(b.Form.className+f+h+g+"-selected"))})},l}(b.FormElement);b.Select=l}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(a){!function(a){var b="-state-checked",c="-state-unchecked",f=function(f){function g(b,c){var e=this;f.call(this,b,c);var h=d.extend(a.FormElement.defaultOption,g.defaultOption,c);this._checkedClass=h.checkedClass,this.checked=this.$el.prop("checked"),this.defaultChecked=this.$el.prop("defaultChecked"),this._update(),this.$el.on("change.bcCheckableElement",function(){e._onchenge()})}return e(g,f),g.prototype.update=function(){this.$el.prop("checked")!==this.checked&&this._update()},g.prototype._onchenge=function(){this.checked=!this.checked,this._update()},g.prototype._update=function(){var d=this.$el.prop("checked"),e=a.Form.className+b,f=a.Form.className+c;this.$el.attr("aria-checked",""+d),d?(this.$el.removeClass(f),this.$el.addClass(e),this.$el.addClass(this._checkedClass)):(this.$el.addClass(f),this.$el.removeClass(e),this.$el.removeClass(this._checkedClass)),this.checked=d},g.defaultOption={checkedClass:""},g}(a.FormElement);a.CheckableElement=f}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(a){!function(a){var b="-radio",c=function(c){function d(d,e){c.call(this,d,e),this.$el.addClass(a.Form.className+b),this.$label.addClass(a.Form.className+b+"-label"),a.Form.radioGroups[this.name]||(a.Form.radioGroups[this.name]=new a.RadioGroup(this.name)),a.Form.radioGroups[this.name].add(this)}return e(d,c),d.prototype._onchenge=function(){c.prototype._onchenge.call(this),a.Form.radioGroups[this.name].update(this)},d}(a.CheckableElement);a.Radio=c}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(a){!function(a){var b="-checkbox",c=function(c){function d(d,e){c.call(this,d,e),this.$el.addClass(a.Form.className+b),this.$label&&this.$label.addClass(a.Form.className+b+"-label")}return e(d,c),d}(a.CheckableElement);a.Checkbox=c}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(a){!function(a){var b=function(){function a(a){this.radioButtons=[],this.name=a}return a.prototype.add=function(a){for(var b=0,c=this.radioButtons.length;c>b;b++)if(this.radioButtons[b]===a)return;this.radioButtons.push(a)},a.prototype.update=function(a){for(var b=0,c=this.radioButtons.length;c>b;b++)this.radioButtons[b]!==a&&this.radioButtons[b].update()},a}();a.RadioGroup=b}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(a||(a={}));var a;!function(a){!function(a){var b=function(){function a(){}return a}();a.Validation=b}(a.ui||(a.ui={}));a.ui}(a||(a={})),this.baser=a,d.fn.bcRadio=function(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.radio(f,b)})},d.fn.bcCheckbox=function(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.checkbox(f,b)})},d.fn.bcSelect=function(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.select(f,b)})}}).call(this);