/**
 * baserjs - v0.0.13-rc.2 r155
 * update: 2014-11-18
 * Author: baserCMS Users Community [https://github.com/baserproject/]
 * Github: https://github.com/baserproject/baserjs
 * License: Licensed under the MIT License
 */


(function(){"use strict";var a=this,b=a.document,c=a.location,d=jQuery;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function c(a){return i.raw?a:encodeURIComponent(a)}function d(a){return i.raw?a:decodeURIComponent(a)}function e(a){return c(i.json?JSON.stringify(a):String(a))}function f(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(h," ")),i.json?JSON.parse(a):a}catch(b){}}function g(b,c){var d=i.raw?b:f(b);return a.isFunction(c)?c(d):d}var h=/\+/g,i=a.cookie=function(f,h,j){if(arguments.length>1&&!a.isFunction(h)){if(j=a.extend({},i.defaults,j),"number"==typeof j.expires){var k=j.expires,l=j.expires=new Date;l.setTime(+l+864e5*k)}return b.cookie=[c(f),"=",e(h),j.expires?"; expires="+j.expires.toUTCString():"",j.path?"; path="+j.path:"",j.domain?"; domain="+j.domain:"",j.secure?"; secure":""].join("")}for(var m=f?void 0:{},n=b.cookie?b.cookie.split("; "):[],o=0,p=n.length;p>o;o++){var q=n[o].split("="),r=d(q.shift()),s=q.join("=");if(f&&f===r){m=g(s,h);break}f||void 0===(s=g(s))||(m[r]=s)}return m};i.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(c){function d(b){var d=b||a.event,i=k.call(arguments,1),j=0,l=0,n=0,o=0,p=0,q=0;if(b=c.event.fix(d),b.type="mousewheel","detail"in d&&(n=-1*d.detail),"wheelDelta"in d&&(n=d.wheelDelta),"wheelDeltaY"in d&&(n=d.wheelDeltaY),"wheelDeltaX"in d&&(l=-1*d.wheelDeltaX),"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&(l=-1*n,n=0),j=0===n?l:n,"deltaY"in d&&(n=-1*d.deltaY,j=n),"deltaX"in d&&(l=d.deltaX,0===n&&(j=-1*l)),0!==n||0!==l){if(1===d.deltaMode){var r=c.data(this,"mousewheel-line-height");j*=r,n*=r,l*=r}else if(2===d.deltaMode){var s=c.data(this,"mousewheel-page-height");j*=s,n*=s,l*=s}if(o=Math.max(Math.abs(n),Math.abs(l)),(!h||h>o)&&(h=o,f(d,o)&&(h/=40)),f(d,o)&&(j/=40,l/=40,n/=40),j=Math[j>=1?"floor":"ceil"](j/h),l=Math[l>=1?"floor":"ceil"](l/h),n=Math[n>=1?"floor":"ceil"](n/h),m.settings.normalizeOffset&&this.getBoundingClientRect){var t=this.getBoundingClientRect();p=b.clientX-t.left,q=b.clientY-t.top}return b.deltaX=l,b.deltaY=n,b.deltaFactor=h,b.offsetX=p,b.offsetY=q,b.deltaMode=0,i.unshift(b,j,l,n),g&&clearTimeout(g),g=setTimeout(e,200),(c.event.dispatch||c.event.handle).apply(this,i)}}function e(){h=null}function f(a,b){return m.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var g,h,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],j="onwheel"in b||b.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],k=Array.prototype.slice;if(c.event.fixHooks)for(var l=i.length;l;)c.event.fixHooks[i[--l]]=c.event.mouseHooks;var m=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var a=j.length;a;)this.addEventListener(j[--a],d,!1);else this.onmousewheel=d;c.data(this,"mousewheel-line-height",m.getLineHeight(this)),c.data(this,"mousewheel-page-height",m.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=j.length;a;)this.removeEventListener(j[--a],d,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height"),c.removeData(this,"mousewheel-page-height")},getLineHeight:function(a){var b=c(a),d=b["offsetParent"in c.fn?"offsetParent":"parent"]();return d.length||(d=c("body")),parseInt(d.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(a){return c(a).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};c.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});var e;!function(a){!function(a){var b=function(){function a(){}return a.UID=function(a){var b=Math.floor(1e8*Math.random());a||(a=(new Date).valueOf());var c=b+a,d="uid-"+c.toString(24);return d},a}();a.String=b}(a.utility||(a.utility={}));a.utility}(e||(e={}));var e;!function(a){var b={},c={};!function(d){var e=function(){function a(){}return a.prototype.on=function(a,d){var e=new f(this,a,d);return b[e.id]=e,c[a]||(c[a]=[]),c[a].push(e),this},a.prototype.off=function(a){return delete c[a],this},a.prototype.trigger=function(a,b){var d,e;b=b||this;var f,h=0;if(c[a])for(f=c[a].length;f>h&&(d=c[a][h],d.context!==this||(e=new g(a),d.handler.call(b,e),!e.isImmediatePropagationStopped()));h++);return this},a}();d.EventDispacher=e;var f=function(){function b(b,c,d){this.context=b,this.id=a.utility.String.UID(),this.type=c,this.handler=d}return b}();d.EventHandler=f;var g=function(){function a(){this._isImmediatePropagationStopped=!1}return a.prototype.isImmediatePropagationStopped=function(){return this._isImmediatePropagationStopped},a.prototype.stopImmediatePropagation=function(){this._isImmediatePropagationStopped=!0},a}();d.DispacheEvent=g}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e,f=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};!function(b){!function(b){var c=a,e=function(b){function e(){var c=this;b.call(this),this.resizeEndInterval=100,this.scrollEndInterval=100,this.isResize=!1,this.isScroll=!1;var e,f=d(a);f.on("resize",function(){c.isResize||c.trigger("resizestart"),c.isResize=!0,c.trigger("resize"),clearTimeout(e),e=setTimeout(function(){c.isResize=!1,c.trigger("resize"),c.trigger("resizeend")},c.resizeEndInterval)});var g;f.on("scroll",function(){c.isScroll||c.trigger("scrollstart"),c.isScroll=!0,c.trigger("scroll"),clearTimeout(g),g=setTimeout(function(){c.isScroll=!1,c.trigger("scroll"),c.trigger("scrollend")},c.resizeEndInterval)})}return f(e,b),e.getUA=function(){var a=navigator.userAgent,b={iOS:/ios/i.test(a),iPad:/ipad/i.test(a),iPhone:/iphone/i.test(a),iPod:/ipod/i.test(a),android:/android/i.test(a)};return b},e.browser=new e,e.spec={isTouchable:void 0!==c.ontouchstart,ua:e.getUA()},e}(b.EventDispacher);b.Browser=e}(b.ui||(b.ui={}));b.ui}(e||(e={}));var e;!function(a){!function(a){var b=function(){function a(){this.timerId=null,this.interval=13,this._onProgress=null,this.now()}return a.prototype.valueOf=function(){return this.datetime.valueOf()},a.prototype.now=function(){return this.datetime=new Date,this.valueOf()},a.prototype.start=function(a){this.now();this.stop();return this},a.prototype.stop=function(){return clearTimeout(this.timerId),this.timerId=null,this},a.prototype.wait=function(a,b,c){var d=this;return null==c&&(c=this),this.stop(),this.timerId=setTimeout(function(){d.stop(),b.call(c)},a),this},a.prototype.progress=function(a){return d.isFunction(a)&&(this._onProgress=a),this},a.wait=function(b,c,d){return(new a).wait(b,c,d)},a}();a.Timer=b}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(b){!function(b){var c=function(){function b(a){this.callback=a}return b.prototype.start=function(c){var d,e=this;c=c||this,"requestAnimationFrame"in a?this.requestId=requestAnimationFrame(function(){cancelAnimationFrame(e.requestId),e.callback.call(c),e.start(c)}):(d=1e3/b.FRAME_RATE,this.requestId=setTimeout(function(){clearTimeout(e.requestId),e.callback.call(c),e.start(c)},d))},b.prototype.stop=function(){"cancelAnimationFrame"in a?cancelAnimationFrame(this.requestId):clearTimeout(this.requestId)},b.FRAME_RATE=60,b}();b.AnimationFrames=c}(b.ui||(b.ui={}));b.ui}(e||(e={}));var e;!function(c){!function(c){var e=function(){function e(){this.timer=new c.Timer}return e.prototype.to=function(f,g){var h,i,j,k,l,m,n,o,p,q,r=this,s=0;if(this.options=g||{},s+=this.options.offset||0,this.options.wheelCancel&&d(b).on("mousewheel",function(){r.isScroll&&(r._finish(),d.isFunction(r.options.onScrollCancel)&&r.options.onScrollCancel.call(r,new d.Event("scrollcancel")))}),d.isNumeric(f))s+=parseFloat(f)||0,this.targetX=0,this.targetY=s;else{if(!f)return q=d(a.location.hash),q.length&&c.Timer.wait(e.delayWhenURLHashTarget,function(){a.scrollTo(0,0),r.to(q,s)}),this;if(q=d(f),!q.length)return this;for(h=q[0],i=0,j=0;h;)i+=h.offsetLeft,j+=h.offsetTop,h=h.offsetParent;m=b.documentElement.clientWidth,n=b.documentElement.clientHeight,k=b.documentElement.scrollWidth,l=b.documentElement.scrollHeight,o=Math.max(m,k),p=Math.max(n,l),this.targetX=Math.min(i,o)+s,this.targetY=Math.min(j,p)+s}return this.isScroll||(this.isScroll=!0,d.isFunction(this.options.onScrollStart)&&this.options.onScrollStart.call(this,new d.Event("scrollstart")),this._scroll()),this},e.prototype._scroll=function(){var b=this._getX(),c=this._getY(),f=(this.targetX-b)/e.speed,g=(this.targetY-c)/e.speed,h=Math.floor(b+f),i=Math.floor(c+g);Math.abs(f)<1&&Math.abs(g)<1||this.prevX===b&&this.prevY===c?(a.scrollTo(this.targetX,this.targetY),this._finish(),d.isFunction(this.options.onScrollEnd)&&this.options.onScrollEnd.call(this,new d.Event("scrollend"))):(a.scrollTo(h,i),this.prevX=b,this.prevY=c,d.isFunction(this.options.onScrollProgress)&&this.options.onScrollProgress.call(this,new d.Event("scrollprogress")),this.timer.wait(e.interval,this._scroll,this))},e.prototype._getX=function(){return void 0!==a.pageXOffset?a.pageXOffset:b.documentElement.scrollLeft||b.body.scrollLeft},e.prototype._getY=function(){return void 0!==a.pageYOffset?a.pageYOffset:b.documentElement.scrollTop||b.body.scrollTop},e.prototype._finish=function(){this.isScroll=!1,this.prevX=null,this.prevY=null,this.timer.stop()},e.speed=4,e.interval=20,e.delayWhenURLHashTarget=30,e}();c.Scroll=e}(c.ui||(c.ui={}));c.ui}(e||(e={}));var e;!function(a){!function(a){var b=function(){function a(a){a&&(this.el=a)}return a}();a.Dimension=b}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){var b=function(){function a(){}return a}();a.Validation=b}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(b){!function(b){var c=function(){function b(b){this.name="",this.$el=b,this.id=this.$el.attr("id"),this.id||(this.id=a.utility.String.UID(),this.$el.attr("id",this.id));var c=this.$el.attr("name");c&&(this.name=c)}return b}();b.Element=c}(b.element||(b.element={}));b.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){!function(a){var b=function(){function b(){}return b.radio=function(b,c){new a.Radio(b,c);return b},b.checkbox=function(b,c){new a.Checkbox(b,c);return b},b.select=function(b,c){new a.Select(b,c);return b},b.selectMultiple=function(a){return a},b.valid=function(a){return a},b.className="-bc-form-element",b.elements=[],b.radioGroups={},b}();a.Form=b}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){!function(a){var b="-wrapper",c="-label",e="-focus",g="-blur",h=function(h){function i(e,f){var g=this;h.call(this,e),this.isFocus=!1,this.$el.addClass(a.Form.className);var j,k=d.extend(i.defaultOption,f);j=this.$el.closest("label"),this.isWrappedByLabel=!!j.length,j.length||(j=d('[for="'+this.id+'"]')),k.autoLabeling&&!j.length&&(this.label=this.$el.attr("title")||k.label||this.$el.attr("name"),j=d("<"+k.labelTag.toLowerCase()+" />"),j.insertAfter(this.$el),k.labelClass&&j.addClass(k.labelClass),this.label&&j.text(this.label),"label"===k.labelTag.toLowerCase()&&j.attr("for",this.id)),this.$label=j,j.addClass(a.Form.className),j.addClass(a.Form.className+c);var l="<span />",m=d(l);m.addClass(a.Form.className+b),this.isWrappedByLabel?this.$label.wrapAll(m):this.$el.add(this.$label).wrapAll(m),this.$wrapper=this.$el.closest("."+a.Form.className+b),this.$el.on("focus.bcFormElement",function(){g._onfocus()}),this.$el.on("blur.bcFormElement",function(){g._onblur()}),this._onblur(),a.Form.elements.push(this)}return f(i,h),i.prototype._onfocus=function(){this.isFocus=!0,this.$el.addClass(a.Form.className+e),this.$el.removeClass(a.Form.className+g),this.$label.addClass(a.Form.className+e),this.$label.removeClass(a.Form.className+g)},i.prototype._onblur=function(){this.isFocus=!1,this.$el.addClass(a.Form.className+g),this.$el.removeClass(a.Form.className+e),this.$label.addClass(a.Form.className+g),this.$label.removeClass(a.Form.className+e)},i.defaultOption={label:"",labelTag:"label",labelClass:"",autoLabeling:!0},i}(a.Element);a.FormElement=h}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){!function(c){var e="-select",g="-option",h="-pseudo",i="-focus",j="-blur",k=d(b),l=function(b){function l(f,i){var j=this;b.call(this,f,i),this.$el.addClass(c.Form.className+e),this.$wrapper.addClass(c.Form.className+e+"-wrapper");var k=this.$label.children().detach();this.$label.empty(),this.$label.append(k),this.$label.addClass(c.Form.className),this.$label.addClass(c.Form.className+e+"-label"),this.$pseudo=d("<a />"),this.$pseudo.attr("href","#"),this.$pseudo.appendTo(this.$label),this.$pseudo.addClass(c.Form.className),this.$pseudo.addClass(c.Form.className+e+h),this.$selected=d("<span />"),this.$selected.text(this.label),this.$selected.appendTo(this.$pseudo),this.$selected.addClass(c.Form.className),this.$selected.addClass(c.Form.className+e+h+"-selected"),this.$options=d("<ul />"),this.$options.appendTo(this.$pseudo),this.$options.addClass(c.Form.className),this.$options.addClass(c.Form.className+e+h+g+"-list"),this.$el.find("option").each(function(a,b){var f=d(b),i=f.val(),k=f.text(),l=d("<li />");l.appendTo(j.$options),l.data("value",i),l.text(k),l.addClass(c.Form.className),l.addClass(c.Form.className+e+h+g)}),this._update(),this.$el.on("change.bcSelect",function(){j._onchange()}),this.$options.on("click.bcSelect","li",function(a){var b=d(a.target),c=b.index();j.$el.find("option").eq(c).prop("selected",!0),a.stopPropagation(),a.preventDefault(),j.$el.trigger("change")}),this.$pseudo.on("click.bcSelect",function(a){a.preventDefault()}),a.Browser.spec.isTouchable?a.Browser.spec.ua.iPhone?(this.$pseudo.on("click.bcSelect",function(){j.$label.focus()}),this.$el.addClass(c.Form.className+e+"-os-iphone"),this.$label.addClass(c.Form.className+e+"-os-iphone")):a.Browser.spec.ua.android&&(this.$el.addClass(c.Form.className+e+"-os-android"),this.$label.addClass(c.Form.className+e+"-os-android")):this._psuedoFocusEvent()}return f(l,b),l.prototype._psuedoFocusEvent=function(){var a=this;this.$el.off("focus.bcFormElement"),this.$el.off("blur.bcFormElement"),this.$el.on("focus.bcSelect",function(){a.$pseudo.focus()}),this.$pseudo.on("focus.bcSelect",function(b){b.stopPropagation(),k.trigger("click.bcSelect"),a._onfocus()}),this.$selected.on("click.bcSelect",function(b){k.trigger("click.bcSelect"),a._onfocus(),b.stopPropagation(),b.preventDefault()}),k.on("click.bcSelect",function(){a._onblur()})},l.prototype._onchange=function(){this._update(),this._onblur()},l.prototype._onfocus=function(){b.prototype._onfocus.call(this),this.$pseudo.addClass(c.Form.className+i),this.$pseudo.removeClass(c.Form.className+j)},l.prototype._onblur=function(){this.$pseudo&&(b.prototype._onblur.call(this),this.$pseudo.addClass(c.Form.className+j),this.$pseudo.removeClass(c.Form.className+i))},l.prototype._update=function(){var a=this,b=(this.$el.find(":selected"),this.$options.find("li"));this.$el.find("option").each(function(f,i){var j=d(i),k=j.prop("selected"),l=b.eq(f);k&&a.$selected.text(j.text()),l.attr("aria-selected",""+k),k?(l.addClass(c.Form.className+e+h+g+"-selected"),l.removeClass(c.Form.className+e+h+g+"-unselected")):(l.addClass(c.Form.className+e+h+g+"-unselected"),l.removeClass(c.Form.className+e+h+g+"-selected"))})},l}(c.FormElement);c.Select=l}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){!function(a){var b="-state-checked",c="-state-unchecked",e=function(e){function g(b,c){var f=this;e.call(this,b,c);var h=d.extend(a.FormElement.defaultOption,g.defaultOption,c);this._checkedClass=h.checkedClass,this.checked=this.$el.prop("checked"),this.defaultChecked=this.$el.prop("defaultChecked"),this._update(),this.$el.on("change.bcCheckableElement",function(){f._onchenge()})}return f(g,e),g.prototype.update=function(){this.$el.prop("checked")!==this.checked&&this._update()},g.prototype._onchenge=function(){this.checked=!this.checked,this._update()},g.prototype._update=function(){var d=this.$el.prop("checked"),e=a.Form.className+b,f=a.Form.className+c;this.$el.attr("aria-checked",""+d),d?(this.$el.removeClass(f),this.$el.addClass(e),this.$el.addClass(this._checkedClass),this.$label.removeClass(f),this.$label.addClass(e),this.$label.addClass(this._checkedClass)):(this.$el.addClass(f),this.$el.removeClass(e),this.$el.removeClass(this._checkedClass),this.$label.addClass(f),this.$label.removeClass(e),this.$label.removeClass(this._checkedClass)),this.checked=d},g.defaultOption={checkedClass:""},g}(a.FormElement);a.CheckableElement=e}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){!function(a){var b="-radio",c=function(c){function d(d,e){c.call(this,d,e),this.$el.addClass(a.Form.className+b),this.$wrapper.addClass(a.Form.className+b+"-wrapper"),this.$label.addClass(a.Form.className+b+"-label"),a.Form.radioGroups[this.name]||(a.Form.radioGroups[this.name]=new a.RadioGroup(this.name)),a.Form.radioGroups[this.name].add(this)}return f(d,c),d.prototype._onchenge=function(){c.prototype._onchenge.call(this),a.Form.radioGroups[this.name].update(this)},d}(a.CheckableElement);a.Radio=c}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){!function(a){var b="-checkbox",c=function(c){function d(d,e){c.call(this,d,e),this.$el.addClass(a.Form.className+b),this.$wrapper.addClass(a.Form.className+b+"-wrapper"),this.$label&&this.$label.addClass(a.Form.className+b+"-label")}return f(d,c),d}(a.CheckableElement);a.Checkbox=c}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){!function(a){var b=function(){function a(a){this.radioButtons=[],this.name=a}return a.prototype.add=function(a){for(var b=0,c=this.radioButtons.length;c>b;b++)if(this.radioButtons[b]===a)return;this.radioButtons.push(a)},a.prototype.update=function(a){for(var b=0,c=this.radioButtons.length;c>b;b++)this.radioButtons[b]!==a&&this.radioButtons[b].update()},a}();a.RadioGroup=b}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(a){!function(a){!function(a){var b=function(a){function b(c){a.call(this,c),this.$el.addClass(b.className)}return f(b,a),b.alignHeight=function(a,c){var d=new b(a);return d.alignHeight(c),a},b.prototype.alignHeight=function(){return this},b.className="-bc-box-element",b.boxes=[],b}(a.Element);a.Box=b}(a.element||(a.element={}));a.element}(a.ui||(a.ui={}));a.ui}(e||(e={}));var e;!function(b){!function(b){!function(b){var c=function(b){function c(d,e){b.call(this,d),this.$el.addClass(c.className),"google"in a&&google.maps?this._init(e):console&&console.warn&&console.warn('ReferenceError: "//maps.google.com/maps/api/js" を先に読み込む必要があります。'),c.maps.push(this),d.data(c.className,this)}return f(c,b),c.prototype._init=function(a){var b=this,f=this.$el.data("lat")||c.lat,g=this.$el.data("lng")||c.lng;this.$coordinates=this.$coordinates||this.$el.find("[data-lat][data-lng]").detach(),this.$coordinates.length<=0&&(this.$coordinates=this.$el);var h=[];this.$coordinates.each(function(a,b){var c=d(b),f=new e(c);h.push(f)}),this.mapOption=this.mapOption||d.extend({zoom:14,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.ROADMAP]},scrollwheel:!1,center:new google.maps.LatLng(f,g),styles:null},a),this.info=new google.maps.InfoWindow({disableAutoPan:!0}),this.gmap=new google.maps.Map(this.$el[0],this.mapOption),d.each(h,function(a,c){c.markTo(b)})},c.prototype.reload=function(){this._init()},c.lat=35.681382,c.lng=139.766084,c.className="-bc-map-element",c.maps=[],c}(b.Element);b.Map=c;var e=function(){function a(a){this.$el=a,this.lat=a.data("lat"),this.lng=a.data("lng"),this.title=a.attr("title")||a.data("title")||a.find("h1,h2,h3,h4,h5,h6").text()||null,this.icon=a.data("icon")||null}return a.prototype.markTo=function(a){var b=this;this.marker=new google.maps.Marker({position:new google.maps.LatLng(this.lat,this.lng),title:this.title,icon:this.icon,map:a.gmap}),a.$coordinates!==a.$el&&google.maps.event.addListener(this.marker,"click",function(){a.info.setContent(b.$el[0]),a.info.open(a.gmap,b.marker),b.marker.setZIndex(google.maps.Marker.MAX_ZINDEX+1)})},a}()}(b.element||(b.element={}));b.element}(b.ui||(b.ui={}));b.ui}(e||(e={}));var e;!function(b){!function(b){!function(b){var e=function(b){function e(a,c){b.call(this,a),this._init(c)&&(e.movies.push(this),this.$el.addClass(e.className),a.data(e.className,this))}return f(e,b),e.prototype._init=function(){var b=this,f=this.$el.data("id"),g=+(this.$el.data("width")||this.$el.attr("width")||0/0),h=+(this.$el.data("height")||this.$el.attr("height")||0/0),i="file:"===c.protocol?"http:":"";this.$el.empty();var j=d('<iframe frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>'),k=d.param({version:3,playlist:f,rel:0,autoplay:1,controls:0,disablekb:1,iv_load_policy:3,loop:1,modestbranding:1,showinfo:0,wmode:"transparent",enablejsapi:1}),l=i+e.PLAYER_URL+f+"?"+k;this.movieId=f,j.prop("src",l);var m=this.id+"-Player";j.prop("id",m),j.css({position:"relative",display:"block",width:"100%",height:"100%"}),j.appendTo(this.$el),g&&(j.width(g),j.data("width",g)),h&&(j.height(h),j.data("height",h)),d.getScript(i+e.API_URL);var n,o=setInterval(function(){!n&&"YT"in a&&YT.Player&&(n=new YT.Player(m,null)),n&&n.pauseVideo&&n.playVideo&&(clearInterval(o),b.$el.trigger("embeddedyoutubeplay",[n]),d(a).on("blur",function(){n.pauseVideo()}).on("focus",function(){n.playVideo()}))},300);return!0},e.prototype.reload=function(){this._init()},e.className="-bc-youtube-element",e.PLAYER_URL="//www.youtube.com/embed/",e.API_URL="//www.youtube.com/player_api",e.movies=[],e}(b.Element);b.Youtube=e}(b.element||(b.element={}));b.element}(b.ui||(b.ui={}));b.ui}(e||(e={})),this.baser=e;var e;!function(a){function b(){return this.each(function(b,c){var e=d(c),f=e.data(a.ui.element.Youtube.className);f?f.reload():new a.ui.element.Youtube(e)})}d.fn.bcYoutube=b}(e||(e={}));var e;!function(a){function b(b){return this.on("click",function(e){var f,g,h,i,j=d(this),k=j.attr("href"),l=new a.ui.Scroll;if(k){if(b&&d.isPlainObject(b.keywords))for(f in b.keywords)if(b.keywords.hasOwnProperty(f)&&(g=b.keywords[f],f===k))return l.to(g,this.options),e.preventDefault(),void console.log(k);if(h=j.prop("href"),i=c.protocol+"//"+c.host+c.pathname+c.search,k=h.replace(i,""),"#top"===k)return l.to(0,b),void e.preventDefault();try{if(g=d(k),g.length)return l.to(g,this.options),void e.preventDefault()}catch(m){}}})}d.fn.bcScrollTo=b}(e||(e={})),d.bcScrollTo=function(a,b){var c=new e.ui.Scroll;c.to(a,b)};var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.radio(f,b)})}d.fn.bcRadio=b}(e||(e={}));var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.checkbox(f,b)})}d.fn.bcCheckbox=b}(e||(e={}));var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e);a.ui.element.Form.select(f,b)})}d.fn.bcSelect=b}(e||(e={}));var e;!function(a){function b(b){return this.each(function(c,e){var f=d(e),g=f.data(a.ui.element.Map.className);g?g.reload():new a.ui.element.Map(f,b)})}d.fn.bcMaps=b}(e||(e={}));var e;!function(){function a(a){return this.each(function(b,c){var e=d(c),f=[],g=e.find("img");g.length?(g.hide(),g.each(function(){var a=d.Deferred(),b=new Image;b.onload=function(){a.resolve(),b.onload=null,b=null},b.src=this.src,f.push(a.promise())}),d.when.apply(d,f).done(function(){g.show(),a.call(c)})):a.call(c)})}d.fn.bcImageLoaded=a}(e||(e={}));var e;!function(a){function b(b){return this.each(function(c,e){var f=d.extend({align:"center",valign:"center",size:"contain",child:">*:first"},b),g=d(e),h=g.find(f.child),i=+(g.data("width")||h.data("width")||h.attr("width")||h.width())||400,j=+(g.data("height")||h.data("height")||h.attr("height")||h.height())||300,k=i/j,l=g.css("position");("static"===l||""===l||null==l)&&g.css("position","relative"),h.css({position:"absolute",top:0,left:0});var m={},n=function(){var a,b=g.width(),c=g.height(),d=b/c;switch(f.size){case"contain":a=d>1?i>1&&d>k?b/i:c/j:j>1&&k>d?c/j:b/i;break;case"cover":a=d>1?i>1&&d>k?c/j:b/i:j>1&&k>d?b/i:c/j;break;default:return}var e,h=i*a,l=j*a;switch(f.valign){case"top":e=0;break;case"bottom":e=c-l;break;case"center":default:e=c/2-l/2}var n;switch(f.align){case"left":n=0;break;case"right":n=b-h;break;case"center":default:n=b/2-h/2}m={width:h,height:l,top:e,left:n}};n();var o=new a.ui.AnimationFrames(function(){h.css(m)});a.ui.Browser.browser.on("resizestart",function(){o.start()}).on("resize",function(){n()}).on("resizeend",function(){o.stop()}),o.start(),a.ui.Timer.wait(300,function(){o.stop()})})}d.fn.bcBackground=b}(e||(e={}));var e;!function(b){function c(){var c=d(a);return this.each(function(a,b){var e=d(b),f=+e.data("width"),g=+e.data("height"),h=f/g;c.on("resize",function(){var a=e.width();e.css({width:"100%",height:a/h})}).trigger("resize")}),b.ui.Timer.wait(30,function(){c.trigger("resize")}),this}d.fn.bcKeepAspectRatio=c}(e||(e={}))}).call(this);
//# sourceMappingURL=baser.min.map